"use strict";(self.webpackChunkmarvel=self.webpackChunkmarvel||[]).push([[869],{7341:function(n,e,t){var r=t(5671),a=t(9466),i=t(136),s=t(7277),c=t(2791),o=t(8519),l=t(184),u=function(n){(0,i.Z)(t,n);var e=(0,s.Z)(t);function t(){var n;(0,r.Z)(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(n=e.call.apply(e,[this].concat(i))).state={error:!1},n}return(0,a.Z)(t,[{key:"componentDidCatch",value:function(n,e){console.log(n,e),this.setState({error:!0})}},{key:"render",value:function(){return this.state.error?(0,l.jsx)(o.Z,{}):this.props.children}}]),t}(c.Component);e.Z=u},8519:function(n,e,t){var r=t(184);e.Z=function(){return(0,r.jsx)("img",{style:{gridColumn:"1/4",display:"block",width:"250px",height:"250px",objectFit:"contain",margin:" 0 auto",alignSelf:"center"},src:"/error.gif",alt:"Error"})}},2568:function(n,e,t){t.r(e),t.d(e,{default:function(){return en}});var r,a,i,s,c,o,l,u,p,d,x,h,m,f,g=t(7341),b=t.p+"static/media/vision.96cbe09bed67b0d04328.png",j=t(9439),v=t(168),Z=t(2791),w=t(4609),_=t(6444),y=t(184),k=function(n){var e=n.name,t=n.url;return(0,y.jsx)("div",{children:(0,y.jsx)("a",{href:t,className:"button "+n.className,children:(0,y.jsx)("div",{className:"inner",children:e})})})},N=t.p+"static/media/mjolnir.4877bd12f637c476f009.png",F=t(108),C=t(8519),E=_.ZP.div(r||(r=(0,v.Z)(["\n    display: flex;\n"]))),P=_.ZP.div(a||(a=(0,v.Z)(["\n    display: flex;\n    width: 50%;\n    padding: 35px 35px 35px 40px;\n    box-shadow: 5px 5px 20px rgba(0, 0, 0, 0.25);\n\n    img {\n        margin-right: 30px;\n        width: 180px;\n        height: 180px;\n        object-fit: 'cover';\n    }  \n"]))),z=_.ZP.div(i||(i=(0,v.Z)(["\n    display: flex;\n    flex-direction: column;\n\n    h2{\n        text-transform: uppercase;\n        font-size: 29px;\n        margin-bottom: 10px;\n    }\n\n    p {\n        font-size: 14px;\n        margin-bottom: 18px;\n    }\n"]))),S=_.ZP.div(s||(s=(0,v.Z)(["\n    display: flex;\n    justify-content: space-between;\n    margin-top: auto;\n    width: 232px;\n"]))),I=_.ZP.div(c||(c=(0,v.Z)(["\n    width: 50%;\n    padding: 35px 35px 35px 40px;\n    background-color: #232222;\n    box-shadow: 5px 5px 20px rgba(0, 0, 0, 0.25);\n    position: relative;\n\n    p{\n        color: #FFFFFF;\n        font-size: 24px;\n        line-height: 28px;\n        margin-bottom: 20px;\n    }\n\n    img {\n        position: absolute;\n        bottom: 14px;\n        right: -40px;\n    }\n\n    button {\n        margin-top: 13px;\n    }\n"]))),T=function(n){var e=n.char,t=e.name,r=e.description,a=e.thumbnail,i=e.homepage,s=e.wiki,c="http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg"===a?{objectFit:"contain"}:{objectFit:"cover"};return(0,y.jsxs)(P,{children:[(0,y.jsx)("img",{src:a,alt:"Random character",style:{style:c}}),(0,y.jsxs)(z,{children:[(0,y.jsx)("h2",{children:t}),(0,y.jsx)("p",{children:r}),(0,y.jsxs)(S,{children:[(0,y.jsx)(k,{url:i,className:"button__main",name:"homepage"}),(0,y.jsx)(k,{url:s,className:"button__secondary",name:"wiki"})]})]})]})},A=function(){var n=(0,Z.useState)({}),e=(0,j.Z)(n,2),t=e[0],r=e[1],a=(0,w.Z)(),i=a.loading,s=a.error,c=a.getCharacter,o=a.clearError;(0,Z.useEffect)((function(){u();var n=setInterval(u,3e4);return function(){clearInterval(n)}}),[]);var l=function(n){r(n)},u=function(){o();var n=Math.floor(400*Math.random()+1011e3);c(n).then(l)},p=s?(0,y.jsx)(C.Z,{}):null,d=i?(0,y.jsx)(F.Z,{}):null,x=i||s?null:(0,y.jsx)(T,{char:t});return(0,y.jsxs)(E,{children:[p,d,x,(0,y.jsxs)(I,{children:[(0,y.jsxs)("p",{children:["Random character for today!",(0,y.jsx)("br",{}),"Do you want to get to know him better?"]}),(0,y.jsx)("br",{}),(0,y.jsx)("p",{children:"Or choose another one"}),(0,y.jsx)("button",{onClick:u,className:"button button__main",children:(0,y.jsx)("div",{className:"inner",children:"try it"})}),(0,y.jsx)("img",{src:N,alt:""})]})]})},L=t(3433),O=t(2007),D=t.n(O),q=t(6983),R=t(5660),H=function(){return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("p",{className:"char__select",children:"Please select a character to see information"}),(0,y.jsxs)("div",{className:"skeleton",children:[(0,y.jsxs)("div",{className:"pulse skeleton__header",children:[(0,y.jsx)("div",{className:"pulse skeleton__circle"}),(0,y.jsx)("div",{className:"pulse skeleton__mini"})]}),(0,y.jsx)("div",{className:"pulse skeleton__block"}),(0,y.jsx)("div",{className:"pulse skeleton__block"}),(0,y.jsx)("div",{className:"pulse skeleton__block"})]})]})},M=_.ZP.div(o||(o=(0,v.Z)(["\n    padding: 25px;\n    box-shadow: 0px 0px 20px rgba(0, 0, 0, 0.25);\n    background-color: #fff;\n\n    p {\n        font-size: 14px;\n        margin-bottom: 10px;\n    }\n\n    h5 {\n        font-weight: 700;\n        font-size: 18px;\n    }\n"]))),$=_.ZP.div(l||(l=(0,v.Z)(["\n    display: flex;\n    column-gap: 25px;\n    margin-bottom: 15px;\n\n    h4 {\n        text-transform: uppercase;\n        font-weight: 700;\n        font-size: 22px;\n        margin-bottom: 35px;\n    }\n\n    img {\n        width: 150px;\n        height: 150px;\n    }\n"]))),G=_.ZP.div(u||(u=(0,v.Z)(["\n    display: flex;\n    row-gap: 10px;\n    flex-direction: column;\n"]))),K=_.ZP.ul(p||(p=(0,v.Z)(["\n    display: flex;\n    row-gap: 10px;\n    flex-direction: column;\n    padding: 10px 0 10px;\n\n    li {\n        padding: 4px 10px;\n        box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\n        font-size: 14px;\n    }\n"]))),V=function(n){var e=n.char,t=e.name,r=e.description,a=e.thumbnail,i=e.homepage,s=e.wiki,c=e.comics,o=0===c.length?(0,y.jsx)("li",{children:" Not found any comic about this hero!"}):c.map((function(n,e){return(0,y.jsx)("li",{children:n.name},e)})).slice(0,10);return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)($,{children:[(0,y.jsx)("img",{src:a,alt:t}),(0,y.jsxs)("div",{children:[(0,y.jsx)("h4",{children:t}),(0,y.jsxs)(G,{children:[(0,y.jsx)(k,{url:i,className:"button__main",name:"homepage"}),(0,y.jsx)(k,{url:s,className:"button__secondary",name:"wiki"})]})]})]}),(0,y.jsx)("p",{children:r}),(0,y.jsx)("h5",{children:"Comics:"}),(0,y.jsx)(K,{children:o})]})},Y=function(n){var e=(0,Z.useState)(null),t=(0,j.Z)(e,2),r=t[0],a=t[1],i=(0,w.Z)(),s=i.loading,c=i.error,o=i.getCharacter;(0,Z.useEffect)((function(){u()}),[n.charId]);var l=function(n){a(n)},u=function(){var e=n.charId;e&&o(e).then(l)},p=r||s||c?null:(0,y.jsx)(H,{}),d=c?(0,y.jsx)(C.Z,{}):null,x=s?(0,y.jsx)(F.Z,{}):null,h=s||c||!r?null:(0,y.jsx)(V,{char:r});return(0,y.jsxs)(M,{children:[p,d,x,h]})},B=_.ZP.form(d||(d=(0,v.Z)(["\n    background-color: #FFF;\n    display: block;\n    box-shadow: 0px 0px 20px rgba(0, 0, 0, 0.25);\n    padding: 25px 25px 0;\n\n    label{\n        font-weight: 700;\n        font-size: 18px;\n    }\n\n    input{\n        width: 250px;\n        height: 38px;\n        background: #FFFFFF;\n        box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\n        border: none;\n        padding: 10px;\n    }\n\n    .search__error{\n        font-size: 18px;\n        color: #9F0013;\n        font-weight: 700;\n        display: ",";\n        margin-bottom: 25px;\n    }\n\n    .search__suc\u0441ess{\n        display: ",";\n        justify-content: space-between;\n        margin-bottom: 25px;\n        align-items: center;\n\n        p{\n            color: #03710E;\n            font-size: 18px;\n            font-weight: 700;\n        }\n    }\n\n    .search__empty{\n        display: ",";\n        font-size: 18px;\n        color: #9F0013;\n        font-weight: 700;\n        margin-bottom: 25px;\n    }\n"])),(function(n){return"error"==n.status?"block":"none"}),(function(n){return"success"==n.status?"flex":"none"}),(function(n){return"empty"==n.status?"flex":"none"})),J=_.ZP.div(x||(x=(0,v.Z)(["\n    margin: 15px 0 25px;\n    display: flex;\n    justify-content: space-between;\n"]))),Q=function(){return(0,y.jsxs)(B,{status:"empty",children:[(0,y.jsx)("label",{children:"Or find a character by name:"}),(0,y.jsxs)(J,{children:[(0,y.jsx)("input",{type:"text",placeholder:"Enter name"}),(0,y.jsx)(k,{className:"button__main",name:"find"})]}),(0,y.jsx)("p",{className:"search__error",children:"The character was not found. Check the name and try again"}),(0,y.jsxs)("div",{className:"search__suc\u0441ess",children:[(0,y.jsx)("p",{children:"There is! Visit $name page?"}),(0,y.jsx)(k,{className:"button__secondary",name:"to page"})]}),(0,y.jsx)("p",{className:"search__empty",children:"This field is required"})]})},U=_.ZP.div(h||(h=(0,v.Z)(["\n    margin-top: 44px;\n    display: grid;\n    grid-template-columns: 650px 425px;\n    grid-template-rows: auto auto auto;\n    gap: 30px 25px;\n    align-items: start;\n"]))),W=_.ZP.div(m||(m=(0,v.Z)(["\n    display: grid;\n    row-gap: 30px;\n    column-gap: 25px;\n    grid-template-columns: repeat(3, 200px);\n"]))),X=_.ZP.div(f||(f=(0,v.Z)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    gap: 30px;\n    grid-row: 1 / -1;\n"])));Y.propTypes={charId:D().number};var nn=function(n){var e=(0,Z.useState)(null),t=(0,j.Z)(e,2),r=t[0],a=t[1],i=(0,Z.useState)([]),s=(0,j.Z)(i,2),c=s[0],o=s[1],l=(0,Z.useState)(!0),u=(0,j.Z)(l,2),p=u[0],d=u[1],x=(0,Z.useState)(250),h=(0,j.Z)(x,2),m=h[0],f=h[1],b=(0,Z.useState)(!1),v=(0,j.Z)(b,2),_=v[0],k=v[1],N=(0,w.Z)(),E=N.loading,P=N.error,z=N.getAllCharacters,S=(N.getAllComics,function(n){a(n)});(0,Z.useEffect)((function(){window.addEventListener("scroll",T)}),[]),(0,Z.useEffect)((function(){!p||E||_||I(m,!0),_||window.addEventListener("scroll",T)}),[p]);var I=function(n,e){d(!e),z(n).then(A).finally((function(){return d((function(){return!1}))}))},T=function n(){window.innerHeight+window.pageYOffset+20>=document.body.offsetHeight&&(d(!0),window.removeEventListener("scroll",n))},A=function(n){o((function(e){return[].concat((0,L.Z)(e),(0,L.Z)(n))})),f((function(n){return n+9})),k(n.length<9)},O=(0,Z.useRef)([]),D=function(n){O.current.forEach((function(n){return n.classList.remove("char__item_selected")})),O.current[n].classList.add("char__item_selected"),O.current[n].focus()};var H=function(n){var e=n.map((function(n,e){var t={objectFit:"cover"};return"http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg"===n.thumbnail&&(t={objectFit:"unset"}),(0,y.jsx)(q.Z,{timeout:500,classNames:"char__item",children:(0,y.jsxs)("li",{className:"char__item",onClick:function(){S(n.id),D(e)},ref:function(n){return O.current[e]=n},tabIndex:"0",onKeyDown:function(t){" "!==t.key&&"Enter"!==t.key||(t.preventDefault(),S(n.id),D(e))},children:[(0,y.jsx)("img",{src:n.thumbnail,alt:n.name,style:t}),(0,y.jsx)("div",{className:"char__name",children:n.name})]})},n.id)}));return(0,y.jsx)(W,{children:(0,y.jsx)(R.Z,{component:null,children:e})})}(c),M=P?(0,y.jsx)(C.Z,{}):null,$=E&&!p?(0,y.jsx)(F.Z,{}):null;return(0,y.jsxs)(U,{children:[(0,y.jsxs)(X,{children:[(0,y.jsxs)(W,{children:[M,$,H]}),(0,y.jsx)("button",{className:"button button__main button__long",disabled:p,style:{display:_?"none":"block"},onClick:function(){return I(m)},children:(0,y.jsx)("div",{className:"inner",children:"load more"})})]}),(0,y.jsx)(g.Z,{children:(0,y.jsx)(Y,{charId:r})}),(0,y.jsx)(Q,{})]})},en=function(){return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(g.Z,{children:(0,y.jsx)(A,{})}),(0,y.jsx)(g.Z,{children:(0,y.jsx)(nn,{})}),(0,y.jsx)("img",{className:"bg-decoration",src:b,alt:"vision"})]})}},4609:function(n,e,t){t.d(e,{Z:function(){return c}});var r=t(4165),a=t(5861),i=t(9439),s=t(2791),c=function(){var n=function(){var n=(0,s.useState)(!1),e=(0,i.Z)(n,2),t=e[0],c=e[1],o=(0,s.useState)(null),l=(0,i.Z)(o,2),u=l[0],p=l[1],d=(0,s.useCallback)(function(){var n=(0,a.Z)((0,r.Z)().mark((function n(e){var t,a,i,s,o,l=arguments;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=l.length>1&&void 0!==l[1]?l[1]:"GET",a=l.length>2&&void 0!==l[2]?l[2]:null,i=l.length>3&&void 0!==l[3]?l[3]:{"Content-Type":"application/json"},c(!0),n.prev=4,n.next=7,fetch(e,{method:t,body:a,headers:i});case 7:if((s=n.sent).ok){n.next=10;break}throw new Error("Could not fetch ".concat(e,", status: ").concat(s.status));case 10:return n.next=12,s.json();case 12:return o=n.sent,c(!1),n.abrupt("return",o);case 17:throw n.prev=17,n.t0=n.catch(4),c(!1),p(n.t0.message),n.t0;case 22:case"end":return n.stop()}}),n,null,[[4,17]])})));return function(e){return n.apply(this,arguments)}}(),[]);return{loading:t,request:d,error:u,clearError:(0,s.useCallback)((function(){return p(null)}),[])}}(),e=n.loading,t=n.request,c=n.error,o=n.clearError,l="https://gateway.marvel.com:443/v1/public/",u="apikey=b5fd0bed3b38fddcc8ec498949b311c0",p=function(){var n=(0,a.Z)((0,r.Z)().mark((function n(){var e,a,i=arguments;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=i.length>0&&void 0!==i[0]?i[0]:210,n.next=3,t("".concat(l,"characters?limit=9&offset=").concat(e,"&").concat(u));case 3:return a=n.sent,n.abrupt("return",a.data.results.map(m));case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),d=function(){var n=(0,a.Z)((0,r.Z)().mark((function n(e){var a;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t("".concat(l,"characters/").concat(e,"?").concat(u));case 2:return a=n.sent,n.abrupt("return",m(a.data.results[0]));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),x=function(){var n=(0,a.Z)((0,r.Z)().mark((function n(e){var a;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t("".concat(l,"comics/").concat(e,"?").concat(u));case 2:return a=n.sent,n.abrupt("return",f(a.data.results[0]));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),h=function(){var n=(0,a.Z)((0,r.Z)().mark((function n(){var e,a,i=arguments;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=i.length>0&&void 0!==i[0]?i[0]:8,n.next=3,t("".concat(l,"comics?limit=8&offset=").concat(e,"&").concat(u));case 3:return a=n.sent,n.abrupt("return",a.data.results.map(f));case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),m=function(n){return{id:n.id,name:n.name,description:n.description?n.description:"No description for this hero(",thumbnail:n.thumbnail.path+"."+n.thumbnail.extension,homepage:n.urls[0].url,wiki:n.urls[1].url,comics:n.comics.items}},f=function(n){return{id:n.id,title:n.title,description:n.description?n.description:"No description for this comic(",pages:n.pageCount,thumbnail:n.thumbnail.path+"."+n.thumbnail.extension,price:n.prices[0].price?"".concat(n.prices[0].price,"$"):"not available",languages:n.textObjects[0]?n.textObjects[0].language:"not available"}};return{loading:e,error:c,getAllCharacters:p,getCharacter:d,clearError:o,getAllComics:h,getComic:x}}}}]);
//# sourceMappingURL=869.edbac1c2.chunk.js.map