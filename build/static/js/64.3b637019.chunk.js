"use strict";(self.webpackChunkmarvel=self.webpackChunkmarvel||[]).push([[64],{7341:function(n,e,t){var i=t(5671),r=t(3144),s=t(136),c=t(7277),o=t(2791),l=t(8519),a=t(184),u=function(n){(0,s.Z)(t,n);var e=(0,c.Z)(t);function t(){var n;(0,i.Z)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=e.call.apply(e,[this].concat(s))).state={error:!1},n}return(0,r.Z)(t,[{key:"componentDidCatch",value:function(n,e){console.log(n,e),this.setState({error:!0})}},{key:"render",value:function(){return this.state.error?(0,a.jsx)(l.Z,{}):this.props.children}}]),t}(o.Component);e.Z=u},5064:function(n,e,t){t.r(e),t.d(e,{default:function(){return v}});var i=t(4270),r=t(1953),s=t(3433),c=t(9439),o=t(2791),l=t(1087),a=t(8519),u=t(108),d=t(4609),m=t(184),f=function(n){var e=(0,o.useState)(0),t=(0,c.Z)(e,2),i=t[0],r=t[1],f=(0,o.useState)([]),h=(0,c.Z)(f,2),v=h[0],j=h[1],p=(0,o.useState)(!0),x=(0,c.Z)(p,2),_=x[0],Z=x[1],g=(0,o.useState)(!1),b=(0,c.Z)(g,2),w=b[0],y=b[1],k=(0,d.Z)(),C=k.loading,N=k.error,E=k.getAllComics;(0,o.useEffect)((function(){window.addEventListener("scroll",L)}),[]),(0,o.useEffect)((function(){!_||C||w||S(i,!0),w||window.addEventListener("scroll",L)}),[_]);var S=function(n,e){Z(!e),E(n).then(F).finally((function(){return Z((function(){return!1}))}))},F=function(n){j((function(e){return[].concat((0,s.Z)(e),(0,s.Z)(n))})),r((function(n){return n+8})),y(n.length<8)},L=function n(){window.innerHeight+window.pageYOffset+50>=document.body.offsetHeight&&(Z(!0),window.removeEventListener("scroll",n))};var A=function(n){var e=n.map((function(n,e){var t={objectFit:"cover"};return"http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg"===n.thumbnail&&(t={objectFit:"unset"}),(0,m.jsx)("li",{className:"comics__item",id:n.id,children:(0,m.jsxs)(l.rU,{to:"./".concat(n.id),children:[(0,m.jsx)("img",{src:n.thumbnail,style:t,alt:n.title}),(0,m.jsx)("span",{className:"comics__item__title",children:n.title}),(0,m.jsx)("span",{className:"comics__item__price",children:n.price})]})},e)}));return(0,m.jsx)("ul",{className:"comics__list",children:e})}(v),H=N?(0,m.jsx)(a.Z,{}):null,q=C&&!_?(0,m.jsx)(u.Z,{}):null;return(0,m.jsxs)("div",{className:"comics",children:[H,q,A,(0,m.jsx)("button",{className:"button button__main button__long",disabled:_,onClick:function(){return S(i)},style:{display:w?"none":"block"},children:(0,m.jsx)("div",{className:"inner",children:"load more"})})]})},h=t(7341),v=function(){return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(i.q,{children:[(0,m.jsx)("meta",{name:"description",content:"Page with list of our comics"}),(0,m.jsx)("title",{children:"Comics page"})]}),(0,m.jsx)(r.Z,{}),(0,m.jsx)(h.Z,{children:(0,m.jsx)(f,{})})]})}}}]);
//# sourceMappingURL=64.3b637019.chunk.js.map