"use strict";(self.webpackChunkmarvel=self.webpackChunkmarvel||[]).push([[213],{7341:function(n,e,t){var r=t(5671),a=t(3144),i=t(136),s=t(7277),c=t(2791),o=t(8519),l=t(184),u=function(n){(0,i.Z)(t,n);var e=(0,s.Z)(t);function t(){var n;(0,r.Z)(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(n=e.call.apply(e,[this].concat(i))).state={error:!1},n}return(0,a.Z)(t,[{key:"componentDidCatch",value:function(n,e){console.log(n,e),this.setState({error:!0})}},{key:"render",value:function(){return this.state.error?(0,l.jsx)(o.Z,{}):this.props.children}}]),t}(c.Component);e.Z=u},8519:function(n,e,t){var r=t(184);e.Z=function(){return(0,r.jsx)("img",{style:{gridColumn:"1/4",display:"block",width:"250px",height:"250px",objectFit:"contain",margin:" 0 auto",alignSelf:"center"},src:"/error.gif",alt:"Error"})}},7273:function(n,e,t){t.r(e),t.d(e,{default:function(){return en}});var r,a,i,s,c,o,l,u,d,p,h,m,x=t(4270),f=t(7341),g=t.p+"static/media/vision.96cbe09bed67b0d04328.png",v=t(9439),j=t(168),b=t(2791),Z=t(4609),w=t(6444),_=t(184),y=function(n){var e=n.name,t=n.url;return(0,_.jsx)("div",{children:(0,_.jsx)("a",{href:t,className:"button "+n.className,children:(0,_.jsx)("div",{className:"inner",children:e})})})},N=t.p+"static/media/mjolnir.4877bd12f637c476f009.png",k=t(108),C=t(8519),E=w.ZP.div(r||(r=(0,j.Z)(["\n    display: flex;\n"]))),F=w.ZP.div(a||(a=(0,j.Z)(["\n    display: flex;\n    width: 50%;\n    padding: 35px 35px 35px 40px;\n    box-shadow: 5px 5px 20px rgba(0, 0, 0, 0.25);\n\n    img {\n        margin-right: 30px;\n        width: 180px;\n        height: 180px;\n        object-fit: 'cover';\n    }  \n"]))),S=w.ZP.div(i||(i=(0,j.Z)(["\n    display: flex;\n    flex-direction: column;\n\n    h2{\n        text-transform: uppercase;\n        font-size: 29px;\n        margin-bottom: 10px;\n    }\n\n    p {\n        font-size: 14px;\n        margin-bottom: 18px;\n    }\n"]))),P=w.ZP.div(s||(s=(0,j.Z)(["\n    display: flex;\n    justify-content: space-between;\n    margin-top: auto;\n    width: 232px;\n"]))),z=w.ZP.div(c||(c=(0,j.Z)(["\n    width: 50%;\n    padding: 35px 35px 35px 40px;\n    background-color: #232222;\n    box-shadow: 5px 5px 20px rgba(0, 0, 0, 0.25);\n    position: relative;\n\n    p{\n        color: #FFFFFF;\n        font-size: 24px;\n        line-height: 28px;\n        margin-bottom: 20px;\n    }\n\n    img {\n        position: absolute;\n        bottom: 14px;\n        right: -40px;\n    }\n\n    button {\n        margin-top: 13px;\n    }\n"]))),I=function(n){var e=n.char,t=e.name,r=e.description,a=e.thumbnail,i=e.homepage,s=e.wiki,c="http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg"===a?{objectFit:"contain"}:{objectFit:"cover"};return(0,_.jsxs)(F,{children:[(0,_.jsx)("img",{src:a,alt:"Random character",style:{style:c}}),(0,_.jsxs)(S,{children:[(0,_.jsx)("h2",{children:t}),(0,_.jsx)("p",{children:r}),(0,_.jsxs)(P,{children:[(0,_.jsx)(y,{url:i,className:"button__main",name:"homepage"}),(0,_.jsx)(y,{url:s,className:"button__secondary",name:"wiki"})]})]})]})},T=function(){var n=(0,b.useState)({}),e=(0,v.Z)(n,2),t=e[0],r=e[1],a=(0,Z.Z)(),i=a.loading,s=a.error,c=a.getCharacter,o=a.clearError;(0,b.useEffect)((function(){u();var n=setInterval(u,3e4);return function(){clearInterval(n)}}),[]);var l=function(n){r(n)},u=function(){o();var n=Math.floor(400*Math.random()+1011e3);c(n).then(l)},d=s?(0,_.jsx)(C.Z,{}):null,p=i?(0,_.jsx)(k.Z,{}):null,h=i||s?null:(0,_.jsx)(I,{char:t});return(0,_.jsxs)(E,{children:[d,p,h,(0,_.jsxs)(z,{children:[(0,_.jsxs)("p",{children:["Random character for today!",(0,_.jsx)("br",{}),"Do you want to get to know him better?"]}),(0,_.jsx)("br",{}),(0,_.jsx)("p",{children:"Or choose another one"}),(0,_.jsx)("button",{onClick:u,className:"button button__main",children:(0,_.jsx)("div",{className:"inner",children:"try it"})}),(0,_.jsx)("img",{src:N,alt:""})]})]})},q=t(3433),A=t(2007),L=t.n(A),O=t(6983),D=t(5660),M=function(){return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("p",{className:"char__select",children:"Please select a character to see information"}),(0,_.jsxs)("div",{className:"skeleton",children:[(0,_.jsxs)("div",{className:"pulse skeleton__header",children:[(0,_.jsx)("div",{className:"pulse skeleton__circle"}),(0,_.jsx)("div",{className:"pulse skeleton__mini"})]}),(0,_.jsx)("div",{className:"pulse skeleton__block"}),(0,_.jsx)("div",{className:"pulse skeleton__block"}),(0,_.jsx)("div",{className:"pulse skeleton__block"})]})]})},R=w.ZP.div(o||(o=(0,j.Z)(["\n    padding: 25px;\n    box-shadow: 0px 0px 20px rgba(0, 0, 0, 0.25);\n    background-color: #fff;\n\n    p {\n        font-size: 14px;\n        margin-bottom: 10px;\n    }\n\n    h5 {\n        font-weight: 700;\n        font-size: 18px;\n    }\n"]))),B=w.ZP.div(l||(l=(0,j.Z)(["\n    display: flex;\n    column-gap: 25px;\n    margin-bottom: 15px;\n\n    h4 {\n        text-transform: uppercase;\n        font-weight: 700;\n        font-size: 22px;\n        margin-bottom: 35px;\n    }\n\n    img {\n        width: 150px;\n        height: 150px;\n    }\n"]))),H=w.ZP.div(u||(u=(0,j.Z)(["\n    display: flex;\n    row-gap: 10px;\n    flex-direction: column;\n"]))),V=w.ZP.ul(d||(d=(0,j.Z)(["\n    display: flex;\n    row-gap: 10px;\n    flex-direction: column;\n    padding: 10px 0 10px;\n\n    li {\n        padding: 4px 10px;\n        box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\n        font-size: 14px;\n    }\n"]))),G=function(n){var e=n.char,t=e.name,r=e.description,a=e.thumbnail,i=e.homepage,s=e.wiki,c=e.comics,o=0===c.length?(0,_.jsx)("li",{children:" Not found any comic about this hero!"}):c.map((function(n,e){return(0,_.jsx)("li",{children:n.name},e)})).slice(0,10);return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)(B,{children:[(0,_.jsx)("img",{src:a,alt:t}),(0,_.jsxs)("div",{children:[(0,_.jsx)("h4",{children:t}),(0,_.jsxs)(H,{children:[(0,_.jsx)(y,{url:i,className:"button__main",name:"homepage"}),(0,_.jsx)(y,{url:s,className:"button__secondary",name:"wiki"})]})]})]}),(0,_.jsx)("p",{children:r}),(0,_.jsx)("h5",{children:"Comics:"}),(0,_.jsx)(V,{children:o})]})},J=function(n){var e=(0,b.useState)(null),t=(0,v.Z)(e,2),r=t[0],a=t[1],i=(0,Z.Z)(),s=i.loading,c=i.error,o=i.getCharacter;(0,b.useEffect)((function(){u()}),[n.charId]);var l=function(n){a(n)},u=function(){var e=n.charId;e&&o(e).then(l)},d=r||s||c?null:(0,_.jsx)(M,{}),p=c?(0,_.jsx)(C.Z,{}):null,h=s?(0,_.jsx)(k.Z,{}):null,m=s||c||!r?null:(0,_.jsx)(G,{char:r});return(0,_.jsxs)(R,{children:[d,p,h,m]})},K=t(5705),U=t(7670),Y=t(1087),$=function(){var n=(0,b.useState)(null),e=(0,v.Z)(n,2),t=e[0],r=e[1],a=(0,Z.Z)(),i=a.loading,s=a.error,c=a.getCharacterByName,o=a.clearError,l=function(n){r(n)},u=s?(0,_.jsx)("div",{children:(0,_.jsx)(C.Z,{})}):null,d=t?t.length>0?(0,_.jsxs)("div",{className:"search__suc\u0441ess",children:[(0,_.jsxs)("p",{children:["There is! Visit ",t[0].name," page?"]}),(0,_.jsx)(Y.rU,{to:"/characters/".concat(t[0].id),className:"button button__secondary",children:(0,_.jsx)("div",{className:"inner",children:"to page"})})]}):(0,_.jsx)("div",{className:"search__error",children:"The character was not found. Check the name and try again, please."}):null;return(0,_.jsxs)("div",{className:"search",children:[(0,_.jsx)(K.J9,{initialValues:{charName:""},validationSchema:U.Ry({charName:U.Z_().required("This field is required!")}),onSubmit:function(n){var e,t=n.charName;e=t,o(),c(e).then(l)},children:(0,_.jsxs)(K.l0,{children:[(0,_.jsx)("label",{htmlFor:"charName",children:"Or find a character by name:"}),(0,_.jsxs)("div",{className:"input__wraper",children:[(0,_.jsx)(K.gN,{type:"text",placeholder:"Enter name",id:"charName",name:"charName"}),(0,_.jsx)("button",{type:"submit",className:"button button__main",disabled:i,children:(0,_.jsx)("div",{className:"inner",children:"find"})})]}),(0,_.jsx)(K.Bc,{component:"div",className:"search__error",name:"charName"})]})}),d,u]})},Q=w.ZP.div(p||(p=(0,j.Z)(["\n    margin-top: 44px;\n    display: grid;\n    grid-template-columns: 650px 425px;\n    grid-template-rows: auto auto auto;\n    gap: 30px 25px;\n    align-items: start;\n"]))),W=w.ZP.div(h||(h=(0,j.Z)(["\n    display: grid;\n    row-gap: 30px;\n    column-gap: 25px;\n    grid-template-columns: repeat(3, 200px);\n"]))),X=w.ZP.div(m||(m=(0,j.Z)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    gap: 30px;\n    grid-row: 1 / -1;\n"])));J.propTypes={charId:L().number};var nn=function(n){var e=(0,b.useState)(null),t=(0,v.Z)(e,2),r=t[0],a=t[1],i=(0,b.useState)([]),s=(0,v.Z)(i,2),c=s[0],o=s[1],l=(0,b.useState)(!0),u=(0,v.Z)(l,2),d=u[0],p=u[1],h=(0,b.useState)(250),m=(0,v.Z)(h,2),x=m[0],g=m[1],j=(0,b.useState)(!1),w=(0,v.Z)(j,2),y=w[0],N=w[1],E=(0,Z.Z)(),F=E.loading,S=E.error,P=E.getAllCharacters,z=(E.getAllComics,function(n){a(n)});(0,b.useEffect)((function(){window.addEventListener("scroll",T)}),[]),(0,b.useEffect)((function(){!d||F||y||I(x,!0),y||window.addEventListener("scroll",T)}),[d]);var I=function(n,e){p(!e),P(n).then(A).finally((function(){return p((function(){return!1}))}))},T=function n(){window.innerHeight+window.pageYOffset+20>=document.body.offsetHeight&&(p(!0),window.removeEventListener("scroll",n))},A=function(n){o((function(e){return[].concat((0,q.Z)(e),(0,q.Z)(n))})),g((function(n){return n+9})),N(n.length<9)},L=(0,b.useRef)([]),M=function(n){L.current.forEach((function(n){return n.classList.remove("char__item_selected")})),L.current[n].classList.add("char__item_selected"),L.current[n].focus()};var R=function(n){var e=n.map((function(n,e){var t={objectFit:"cover"};return"http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg"===n.thumbnail&&(t={objectFit:"unset"}),(0,_.jsx)(O.Z,{timeout:500,classNames:"char__item",children:(0,_.jsxs)("li",{className:"char__item",onClick:function(){z(n.id),M(e)},ref:function(n){return L.current[e]=n},tabIndex:"0",onKeyDown:function(t){" "!==t.key&&"Enter"!==t.key||(t.preventDefault(),z(n.id),M(e))},children:[(0,_.jsx)("img",{src:n.thumbnail,alt:n.name,style:t}),(0,_.jsx)("div",{className:"char__name",children:n.name})]})},n.id)}));return(0,_.jsx)(W,{children:(0,_.jsx)(D.Z,{component:null,children:e})})}(c),B=S?(0,_.jsx)(C.Z,{}):null,H=F&&!d?(0,_.jsx)(k.Z,{}):null;return(0,_.jsxs)(Q,{children:[(0,_.jsxs)(X,{children:[(0,_.jsxs)(W,{children:[B,H,R]}),(0,_.jsx)("button",{className:"button button__main button__long",disabled:d,style:{display:y?"none":"block"},onClick:function(){return I(x)},children:(0,_.jsx)("div",{className:"inner",children:"load more"})})]}),(0,_.jsx)(f.Z,{children:(0,_.jsx)(J,{charId:r})}),(0,_.jsx)($,{})]})},en=function(){return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)(x.q,{children:[(0,_.jsx)("meta",{name:"description",content:"Marvel information portal"}),(0,_.jsx)("title",{children:"Marvel information"})]}),(0,_.jsx)(f.Z,{children:(0,_.jsx)(T,{})}),(0,_.jsx)(f.Z,{children:(0,_.jsx)(nn,{})}),(0,_.jsx)("img",{className:"bg-decoration",src:g,alt:"vision"})]})}},4609:function(n,e,t){t.d(e,{Z:function(){return c}});var r=t(4165),a=t(5861),i=t(9439),s=t(2791),c=function(){var n=function(){var n=(0,s.useState)(!1),e=(0,i.Z)(n,2),t=e[0],c=e[1],o=(0,s.useState)(null),l=(0,i.Z)(o,2),u=l[0],d=l[1],p=(0,s.useCallback)(function(){var n=(0,a.Z)((0,r.Z)().mark((function n(e){var t,a,i,s,o,l=arguments;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=l.length>1&&void 0!==l[1]?l[1]:"GET",a=l.length>2&&void 0!==l[2]?l[2]:null,i=l.length>3&&void 0!==l[3]?l[3]:{"Content-Type":"application/json"},c(!0),n.prev=4,n.next=7,fetch(e,{method:t,body:a,headers:i});case 7:if((s=n.sent).ok){n.next=10;break}throw new Error("Could not fetch ".concat(e,", status: ").concat(s.status));case 10:return n.next=12,s.json();case 12:return o=n.sent,c(!1),n.abrupt("return",o);case 17:throw n.prev=17,n.t0=n.catch(4),c(!1),d(n.t0.message),n.t0;case 22:case"end":return n.stop()}}),n,null,[[4,17]])})));return function(e){return n.apply(this,arguments)}}(),[]);return{loading:t,request:p,error:u,clearError:(0,s.useCallback)((function(){return d(null)}),[])}}(),e=n.loading,t=n.request,c=n.error,o=n.clearError,l="https://gateway.marvel.com:443/v1/public/",u="apikey=b5fd0bed3b38fddcc8ec498949b311c0",d=function(){var n=(0,a.Z)((0,r.Z)().mark((function n(){var e,a,i=arguments;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=i.length>0&&void 0!==i[0]?i[0]:210,n.next=3,t("".concat(l,"characters?limit=9&offset=").concat(e,"&").concat(u));case 3:return a=n.sent,n.abrupt("return",a.data.results.map(f));case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),p=function(){var n=(0,a.Z)((0,r.Z)().mark((function n(e){var a;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t("".concat(l,"characters/").concat(e,"?").concat(u));case 2:return a=n.sent,n.abrupt("return",f(a.data.results[0]));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),h=function(){var n=(0,a.Z)((0,r.Z)().mark((function n(e){var a;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t("".concat(l,"comics/").concat(e,"?").concat(u));case 2:return a=n.sent,n.abrupt("return",g(a.data.results[0]));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),m=function(){var n=(0,a.Z)((0,r.Z)().mark((function n(){var e,a,i=arguments;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=i.length>0&&void 0!==i[0]?i[0]:8,n.next=3,t("".concat(l,"comics?limit=8&offset=").concat(e,"&").concat(u));case 3:return a=n.sent,n.abrupt("return",a.data.results.map(g));case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),x=function(){var n=(0,a.Z)((0,r.Z)().mark((function n(e){var a;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t("".concat(l,"characters?name=").concat(e,"&").concat(u));case 2:return a=n.sent,n.abrupt("return",a.data.results.map(f));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),f=function(n){return{id:n.id,name:n.name,description:n.description?n.description:"No description for this hero(",thumbnail:n.thumbnail.path+"."+n.thumbnail.extension,homepage:n.urls[0].url,wiki:n.urls[1].url,comics:n.comics.items}},g=function(n){return{id:n.id,title:n.title,description:n.description?n.description:"No description for this comic(",pages:n.pageCount,thumbnail:n.thumbnail.path+"."+n.thumbnail.extension,price:n.prices[0].price?"".concat(n.prices[0].price,"$"):"not available",languages:n.textObjects[0]?n.textObjects[0].language:"not available"}};return{loading:e,error:c,getAllCharacters:d,getCharacter:p,clearError:o,getAllComics:m,getComic:h,getCharacterByName:x}}}}]);
//# sourceMappingURL=213.bb97859f.chunk.js.map