"use strict";(self.webpackChunkmarvel=self.webpackChunkmarvel||[]).push([[213],{7341:function(n,e,t){var r=t(5671),a=t(3144),i=t(136),c=t(7277),s=t(2791),o=t(8519),l=t(184),u=function(n){(0,i.Z)(t,n);var e=(0,c.Z)(t);function t(){var n;(0,r.Z)(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(n=e.call.apply(e,[this].concat(i))).state={error:!1},n}return(0,a.Z)(t,[{key:"componentDidCatch",value:function(n,e){console.log(n,e),this.setState({error:!0})}},{key:"render",value:function(){return this.state.error?(0,l.jsx)(o.Z,{}):this.props.children}}]),t}(s.Component);e.Z=u},8519:function(n,e,t){var r=t(184);e.Z=function(){return(0,r.jsx)("img",{style:{gridColumn:"1/4",display:"block",width:"250px",height:"250px",objectFit:"contain",margin:" 0 auto",alignSelf:"center"},src:"/error.gif",alt:"Error"})}},7273:function(n,e,t){t.r(e),t.d(e,{default:function(){return nn}});var r,a,i,c,s,o,l,u,d,p,h,m,x=t(7341),f=t.p+"static/media/vision.96cbe09bed67b0d04328.png",g=t(9439),v=t(168),j=t(2791),b=t(4609),Z=t(6444),w=t(184),_=function(n){var e=n.name,t=n.url;return(0,w.jsx)("div",{children:(0,w.jsx)("a",{href:t,className:"button "+n.className,children:(0,w.jsx)("div",{className:"inner",children:e})})})},y=t.p+"static/media/mjolnir.4877bd12f637c476f009.png",N=t(108),k=t(8519),C=Z.ZP.div(r||(r=(0,v.Z)(["\n    display: flex;\n"]))),E=Z.ZP.div(a||(a=(0,v.Z)(["\n    display: flex;\n    width: 50%;\n    padding: 35px 35px 35px 40px;\n    box-shadow: 5px 5px 20px rgba(0, 0, 0, 0.25);\n\n    img {\n        margin-right: 30px;\n        width: 180px;\n        height: 180px;\n        object-fit: 'cover';\n    }  \n"]))),F=Z.ZP.div(i||(i=(0,v.Z)(["\n    display: flex;\n    flex-direction: column;\n\n    h2{\n        text-transform: uppercase;\n        font-size: 29px;\n        margin-bottom: 10px;\n    }\n\n    p {\n        font-size: 14px;\n        margin-bottom: 18px;\n    }\n"]))),S=Z.ZP.div(c||(c=(0,v.Z)(["\n    display: flex;\n    justify-content: space-between;\n    margin-top: auto;\n    width: 232px;\n"]))),P=Z.ZP.div(s||(s=(0,v.Z)(["\n    width: 50%;\n    padding: 35px 35px 35px 40px;\n    background-color: #232222;\n    box-shadow: 5px 5px 20px rgba(0, 0, 0, 0.25);\n    position: relative;\n\n    p{\n        color: #FFFFFF;\n        font-size: 24px;\n        line-height: 28px;\n        margin-bottom: 20px;\n    }\n\n    img {\n        position: absolute;\n        bottom: 14px;\n        right: -40px;\n    }\n\n    button {\n        margin-top: 13px;\n    }\n"]))),z=function(n){var e=n.char,t=e.name,r=e.description,a=e.thumbnail,i=e.homepage,c=e.wiki,s="http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg"===a?{objectFit:"contain"}:{objectFit:"cover"};return(0,w.jsxs)(E,{children:[(0,w.jsx)("img",{src:a,alt:"Random character",style:{style:s}}),(0,w.jsxs)(F,{children:[(0,w.jsx)("h2",{children:t}),(0,w.jsx)("p",{children:r}),(0,w.jsxs)(S,{children:[(0,w.jsx)(_,{url:i,className:"button__main",name:"homepage"}),(0,w.jsx)(_,{url:c,className:"button__secondary",name:"wiki"})]})]})]})},I=function(){var n=(0,j.useState)({}),e=(0,g.Z)(n,2),t=e[0],r=e[1],a=(0,b.Z)(),i=a.loading,c=a.error,s=a.getCharacter,o=a.clearError;(0,j.useEffect)((function(){u();var n=setInterval(u,3e4);return function(){clearInterval(n)}}),[]);var l=function(n){r(n)},u=function(){o();var n=Math.floor(400*Math.random()+1011e3);s(n).then(l)},d=c?(0,w.jsx)(k.Z,{}):null,p=i?(0,w.jsx)(N.Z,{}):null,h=i||c?null:(0,w.jsx)(z,{char:t});return(0,w.jsxs)(C,{children:[d,p,h,(0,w.jsxs)(P,{children:[(0,w.jsxs)("p",{children:["Random character for today!",(0,w.jsx)("br",{}),"Do you want to get to know him better?"]}),(0,w.jsx)("br",{}),(0,w.jsx)("p",{children:"Or choose another one"}),(0,w.jsx)("button",{onClick:u,className:"button button__main",children:(0,w.jsx)("div",{className:"inner",children:"try it"})}),(0,w.jsx)("img",{src:y,alt:""})]})]})},T=t(3433),A=t(2007),L=t.n(A),O=t(6983),q=t(5660),D=function(){return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("p",{className:"char__select",children:"Please select a character to see information"}),(0,w.jsxs)("div",{className:"skeleton",children:[(0,w.jsxs)("div",{className:"pulse skeleton__header",children:[(0,w.jsx)("div",{className:"pulse skeleton__circle"}),(0,w.jsx)("div",{className:"pulse skeleton__mini"})]}),(0,w.jsx)("div",{className:"pulse skeleton__block"}),(0,w.jsx)("div",{className:"pulse skeleton__block"}),(0,w.jsx)("div",{className:"pulse skeleton__block"})]})]})},R=Z.ZP.div(o||(o=(0,v.Z)(["\n    padding: 25px;\n    box-shadow: 0px 0px 20px rgba(0, 0, 0, 0.25);\n    background-color: #fff;\n\n    p {\n        font-size: 14px;\n        margin-bottom: 10px;\n    }\n\n    h5 {\n        font-weight: 700;\n        font-size: 18px;\n    }\n"]))),B=Z.ZP.div(l||(l=(0,v.Z)(["\n    display: flex;\n    column-gap: 25px;\n    margin-bottom: 15px;\n\n    h4 {\n        text-transform: uppercase;\n        font-weight: 700;\n        font-size: 22px;\n        margin-bottom: 35px;\n    }\n\n    img {\n        width: 150px;\n        height: 150px;\n    }\n"]))),H=Z.ZP.div(u||(u=(0,v.Z)(["\n    display: flex;\n    row-gap: 10px;\n    flex-direction: column;\n"]))),M=Z.ZP.ul(d||(d=(0,v.Z)(["\n    display: flex;\n    row-gap: 10px;\n    flex-direction: column;\n    padding: 10px 0 10px;\n\n    li {\n        padding: 4px 10px;\n        box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\n        font-size: 14px;\n    }\n"]))),V=function(n){var e=n.char,t=e.name,r=e.description,a=e.thumbnail,i=e.homepage,c=e.wiki,s=e.comics,o=0===s.length?(0,w.jsx)("li",{children:" Not found any comic about this hero!"}):s.map((function(n,e){return(0,w.jsx)("li",{children:n.name},e)})).slice(0,10);return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(B,{children:[(0,w.jsx)("img",{src:a,alt:t}),(0,w.jsxs)("div",{children:[(0,w.jsx)("h4",{children:t}),(0,w.jsxs)(H,{children:[(0,w.jsx)(_,{url:i,className:"button__main",name:"homepage"}),(0,w.jsx)(_,{url:c,className:"button__secondary",name:"wiki"})]})]})]}),(0,w.jsx)("p",{children:r}),(0,w.jsx)("h5",{children:"Comics:"}),(0,w.jsx)(M,{children:o})]})},G=function(n){var e=(0,j.useState)(null),t=(0,g.Z)(e,2),r=t[0],a=t[1],i=(0,b.Z)(),c=i.loading,s=i.error,o=i.getCharacter;(0,j.useEffect)((function(){u()}),[n.charId]);var l=function(n){a(n)},u=function(){var e=n.charId;e&&o(e).then(l)},d=r||c||s?null:(0,w.jsx)(D,{}),p=s?(0,w.jsx)(k.Z,{}):null,h=c?(0,w.jsx)(N.Z,{}):null,m=c||s||!r?null:(0,w.jsx)(V,{char:r});return(0,w.jsxs)(R,{children:[d,p,h,m]})},J=t(5705),K=t(7670),U=t(1087),Y=function(){var n=(0,j.useState)(null),e=(0,g.Z)(n,2),t=e[0],r=e[1],a=(0,b.Z)(),i=a.loading,c=a.error,s=a.getCharacterByName,o=a.clearError,l=function(n){r(n)},u=c?(0,w.jsx)("div",{children:(0,w.jsx)(k.Z,{})}):null,d=t?t.length>0?(0,w.jsxs)("div",{className:"search__suc\u0441ess",children:[(0,w.jsxs)("p",{children:["There is! Visit ",t[0].name," page?"]}),(0,w.jsx)(U.rU,{to:"/characters/".concat(t[0].id),className:"button button__secondary",children:(0,w.jsx)("div",{className:"inner",children:"to page"})})]}):(0,w.jsx)("div",{className:"search__error",children:"The character was not found. Check the name and try again, please."}):null;return(0,w.jsxs)("div",{className:"search",children:[(0,w.jsx)(J.J9,{initialValues:{charName:""},validationSchema:K.Ry({charName:K.Z_().required("This field is required!")}),onSubmit:function(n){var e,t=n.charName;e=t,o(),s(e).then(l)},children:(0,w.jsxs)(J.l0,{children:[(0,w.jsx)("label",{htmlFor:"charName",children:"Or find a character by name:"}),(0,w.jsxs)("div",{className:"input__wraper",children:[(0,w.jsx)(J.gN,{type:"text",placeholder:"Enter name",id:"charName",name:"charName"}),(0,w.jsx)("button",{type:"submit",className:"button button__main",disabled:i,children:(0,w.jsx)("div",{className:"inner",children:"find"})})]}),(0,w.jsx)(J.Bc,{component:"div",className:"search__error",name:"charName"})]})}),d,u]})},$=Z.ZP.div(p||(p=(0,v.Z)(["\n    margin-top: 44px;\n    display: grid;\n    grid-template-columns: 650px 425px;\n    grid-template-rows: auto auto auto;\n    gap: 30px 25px;\n    align-items: start;\n"]))),Q=Z.ZP.div(h||(h=(0,v.Z)(["\n    display: grid;\n    row-gap: 30px;\n    column-gap: 25px;\n    grid-template-columns: repeat(3, 200px);\n"]))),W=Z.ZP.div(m||(m=(0,v.Z)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    gap: 30px;\n    grid-row: 1 / -1;\n"])));G.propTypes={charId:L().number};var X=function(n){var e=(0,j.useState)(null),t=(0,g.Z)(e,2),r=t[0],a=t[1],i=(0,j.useState)([]),c=(0,g.Z)(i,2),s=c[0],o=c[1],l=(0,j.useState)(!0),u=(0,g.Z)(l,2),d=u[0],p=u[1],h=(0,j.useState)(250),m=(0,g.Z)(h,2),f=m[0],v=m[1],Z=(0,j.useState)(!1),_=(0,g.Z)(Z,2),y=_[0],C=_[1],E=(0,b.Z)(),F=E.loading,S=E.error,P=E.getAllCharacters,z=(E.getAllComics,function(n){a(n)});(0,j.useEffect)((function(){window.addEventListener("scroll",A)}),[]),(0,j.useEffect)((function(){!d||F||y||I(f,!0),y||window.addEventListener("scroll",A)}),[d]);var I=function(n,e){p(!e),P(n).then(L).finally((function(){return p((function(){return!1}))}))},A=function n(){window.innerHeight+window.pageYOffset+20>=document.body.offsetHeight&&(p(!0),window.removeEventListener("scroll",n))},L=function(n){o((function(e){return[].concat((0,T.Z)(e),(0,T.Z)(n))})),v((function(n){return n+9})),C(n.length<9)},D=(0,j.useRef)([]),R=function(n){D.current.forEach((function(n){return n.classList.remove("char__item_selected")})),D.current[n].classList.add("char__item_selected"),D.current[n].focus()};var B=function(n){var e=n.map((function(n,e){var t={objectFit:"cover"};return"http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg"===n.thumbnail&&(t={objectFit:"unset"}),(0,w.jsx)(O.Z,{timeout:500,classNames:"char__item",children:(0,w.jsxs)("li",{className:"char__item",onClick:function(){z(n.id),R(e)},ref:function(n){return D.current[e]=n},tabIndex:"0",onKeyDown:function(t){" "!==t.key&&"Enter"!==t.key||(t.preventDefault(),z(n.id),R(e))},children:[(0,w.jsx)("img",{src:n.thumbnail,alt:n.name,style:t}),(0,w.jsx)("div",{className:"char__name",children:n.name})]})},n.id)}));return(0,w.jsx)(Q,{children:(0,w.jsx)(q.Z,{component:null,children:e})})}(s),H=S?(0,w.jsx)(k.Z,{}):null,M=F&&!d?(0,w.jsx)(N.Z,{}):null;return(0,w.jsxs)($,{children:[(0,w.jsxs)(W,{children:[(0,w.jsxs)(Q,{children:[H,M,B]}),(0,w.jsx)("button",{className:"button button__main button__long",disabled:d,style:{display:y?"none":"block"},onClick:function(){return I(f)},children:(0,w.jsx)("div",{className:"inner",children:"load more"})})]}),(0,w.jsx)(x.Z,{children:(0,w.jsx)(G,{charId:r})}),(0,w.jsx)(Y,{})]})},nn=function(){return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(x.Z,{children:(0,w.jsx)(I,{})}),(0,w.jsx)(x.Z,{children:(0,w.jsx)(X,{})}),(0,w.jsx)("img",{className:"bg-decoration",src:f,alt:"vision"})]})}},4609:function(n,e,t){t.d(e,{Z:function(){return s}});var r=t(4165),a=t(5861),i=t(9439),c=t(2791),s=function(){var n=function(){var n=(0,c.useState)(!1),e=(0,i.Z)(n,2),t=e[0],s=e[1],o=(0,c.useState)(null),l=(0,i.Z)(o,2),u=l[0],d=l[1],p=(0,c.useCallback)(function(){var n=(0,a.Z)((0,r.Z)().mark((function n(e){var t,a,i,c,o,l=arguments;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=l.length>1&&void 0!==l[1]?l[1]:"GET",a=l.length>2&&void 0!==l[2]?l[2]:null,i=l.length>3&&void 0!==l[3]?l[3]:{"Content-Type":"application/json"},s(!0),n.prev=4,n.next=7,fetch(e,{method:t,body:a,headers:i});case 7:if((c=n.sent).ok){n.next=10;break}throw new Error("Could not fetch ".concat(e,", status: ").concat(c.status));case 10:return n.next=12,c.json();case 12:return o=n.sent,s(!1),n.abrupt("return",o);case 17:throw n.prev=17,n.t0=n.catch(4),s(!1),d(n.t0.message),n.t0;case 22:case"end":return n.stop()}}),n,null,[[4,17]])})));return function(e){return n.apply(this,arguments)}}(),[]);return{loading:t,request:p,error:u,clearError:(0,c.useCallback)((function(){return d(null)}),[])}}(),e=n.loading,t=n.request,s=n.error,o=n.clearError,l="https://gateway.marvel.com:443/v1/public/",u="apikey=b5fd0bed3b38fddcc8ec498949b311c0",d=function(){var n=(0,a.Z)((0,r.Z)().mark((function n(){var e,a,i=arguments;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=i.length>0&&void 0!==i[0]?i[0]:210,n.next=3,t("".concat(l,"characters?limit=9&offset=").concat(e,"&").concat(u));case 3:return a=n.sent,n.abrupt("return",a.data.results.map(f));case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),p=function(){var n=(0,a.Z)((0,r.Z)().mark((function n(e){var a;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t("".concat(l,"characters/").concat(e,"?").concat(u));case 2:return a=n.sent,n.abrupt("return",f(a.data.results[0]));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),h=function(){var n=(0,a.Z)((0,r.Z)().mark((function n(e){var a;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t("".concat(l,"comics/").concat(e,"?").concat(u));case 2:return a=n.sent,n.abrupt("return",g(a.data.results[0]));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),m=function(){var n=(0,a.Z)((0,r.Z)().mark((function n(){var e,a,i=arguments;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=i.length>0&&void 0!==i[0]?i[0]:8,n.next=3,t("".concat(l,"comics?limit=8&offset=").concat(e,"&").concat(u));case 3:return a=n.sent,n.abrupt("return",a.data.results.map(g));case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),x=function(){var n=(0,a.Z)((0,r.Z)().mark((function n(e){var a;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t("".concat(l,"characters?name=").concat(e,"&").concat(u));case 2:return a=n.sent,n.abrupt("return",a.data.results.map(f));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),f=function(n){return{id:n.id,name:n.name,description:n.description?n.description:"No description for this hero(",thumbnail:n.thumbnail.path+"."+n.thumbnail.extension,homepage:n.urls[0].url,wiki:n.urls[1].url,comics:n.comics.items}},g=function(n){return{id:n.id,title:n.title,description:n.description?n.description:"No description for this comic(",pages:n.pageCount,thumbnail:n.thumbnail.path+"."+n.thumbnail.extension,price:n.prices[0].price?"".concat(n.prices[0].price,"$"):"not available",languages:n.textObjects[0]?n.textObjects[0].language:"not available"}};return{loading:e,error:s,getAllCharacters:d,getCharacter:p,clearError:o,getAllComics:m,getComic:h,getCharacterByName:x}}}}]);
//# sourceMappingURL=213.459b6001.chunk.js.map